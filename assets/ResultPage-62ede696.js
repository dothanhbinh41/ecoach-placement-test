import{u as w}from"./user-store-0ed87c9f.js";import{r as k}from"./result-test-store-9a86074c.js";import{t as O,R as P}from"./test-result-model-59d6c99b.js";import{_ as b,o as r,c,a as t,j as m,t as n,r as v,n as R,g as T,y as I,F as L,d as E,x as C,f as $,e as B,p as D,l as N}from"./index-efb77055.js";const F={name:"OveralResult",props:{pointOverall:{type:Number,default(){return 0}},testIELTS:{type:Boolean,default(){return!1}}},computed:{pointLadder(){return this.testIELTS?"9.0":"10"}}},V={class:"result__content w-full shadow-lg rounded-[16px] mb-[32px]"},j={class:"w-full bg-test-bg-header-intro rounded-t-[16px] flex justify-between py-[11px] px-[16px]"},A=t("div",{class:"flex items-center"},[t("div",{class:"rounded-32 bg-707070 w-[37px] h-[37px] flex justify-center items-center text-fdb913 bg-test-bg-icon-result"},[t("i",{class:"fa-sharp fa-solid fa-message text-[22px]"})]),t("h2",{class:"text-[18px] font-bold text-white ml-[10px] xl:text-[20px]"},"Overall")],-1),Q={class:"text-right text-test-while"},Y=t("br",null,null,-1),H={class:"font-bold text-test-text-result"},K=t("div",{class:"pt-[16px] px-[16px] pb-[28px]"},null,-1);function M(e,a,s,u,l,d){return r(),c("div",V,[t("div",j,[A,t("h2",Q,[m("Số điểm "),Y,t("span",H,n(s.pointOverall.toLocaleString("en-US",{minimumFractionDigits:1}))+" /"+n(d.pointLadder),1)])]),K])}const U=b(F,[["render",M]]),X={name:"ResultDetail",props:{resultTest:{type:Object,default(){return{}}},testIELTS:{type:Boolean,default(){return!1}}},computed:{handleCheckType(){switch(this.result.type){case 0:return"listening";case 1:return"Speaking";case 2:return"Reading";case 3:return"Writing";case 4:return"Overall"}},handleCheckTypeIcon(){switch(this.result.type){case 0:return"fa-sharp fa-solid fa-volume-high";case 1:return"fa-sharp fa-solid fa-message";case 2:return"fa-solid fa-book";case 3:return"fa-solid fa-pen";case 4:return"fa fa-envelope "}},totalPointTest(){var e,a,s,u;return this.testIELTS?((e=this.resultTest)==null?void 0:e.totalPoint)??((a=this.resultTest)==null?void 0:a.totalPointAuto):O(((s=this.resultTest)==null?void 0:s.totalPoint)??((u=this.resultTest)==null?void 0:u.totalPointAuto)*10/9)},pointLadder(){return this.testIELTS?"9.0":"10"}}},q={class:"result__content w-full shadow-lg rounded-[16px] mb-[32px]"},z={class:"w-full bg-test-bg-header-intro rounded-t-[16px] flex justify-between py-[11px] px-[16px]"},G={class:"flex items-center"},W={class:"rounded-32 bg-707070 w-[37px] h-[37px] flex justify-center items-center text-fdb913 bg-test-bg-icon-result"},J={class:"text-[18px] font-bold text-white ml-[10px] xl:text-[20px]"},Z={class:"text-right text-test-while"},tt=t("br",null,null,-1),et={class:"font-bold text-test-text-result"},st={class:"pt-[16px] px-[16px] pb-[28px]"},nt=t("h3",null,"Nhận xét:",-1),lt={key:0,class:"mb-0"},ot={key:1},rt=t("p",{class:"mb-0"},"Học viên đọc phần nhận xét chi tiết để hiểu rõ những tiêu chí của kĩ năng này",-1),it={class:"text-center mt-2"},ct={class:"demo-collapse"},at={style:{"font-weight":"bold"}},ut={style:{"white-space":"pre-line"}},dt=t("h4",null,"Chi tiết :",-1),ht={style:{"white-space":"pre-line"}},pt=t("hr",null,null,-1);function _t(e,a,s,u,l,d){var _,o,i,f;const p=v("el-collapse-item"),h=v("el-collapse");return r(),c("div",q,[t("div",z,[t("div",G,[t("div",W,[t("i",{class:R([(_=s.resultTest)==null?void 0:_.icon,"fa-sharp fa-solid fa-volume-high text-[22px]"])},null,2)]),t("h2",J,n((o=s.resultTest)==null?void 0:o.nameType),1)]),t("h2",Z,[m("Số điểm "),tt,t("span",et,n((((i=s.resultTest)==null?void 0:i.totalPoint)??((f=s.resultTest)==null?void 0:f.totalPointAuto)).toLocaleString("en-US",{minimumFractionDigits:1}))+" /"+n(d.pointLadder),1)])]),t("div",st,[nt,s.resultTest.totalQuestions?(r(),c("p",lt,"Học viên đúng "+n(s.resultTest.correctQuestions)+"/"+n(s.resultTest.totalQuestions)+" câu trong kỹ năng này",1)):(r(),c("div",ot,[rt,t("div",it,[t("div",ct,[T(h,null,{default:I(()=>[T(p,{title:"Xem Thêm",name:"1",class:"text-[15px]"},{default:I(()=>[(r(!0),c(L,null,E(s.resultTest.dataComments,(x,g)=>(r(),c("div",{key:g,class:"mb-5 text-left text-[15px]"},[t("h4",at,"Tiêu chí "+n(g+1)+": "+n(x.nameCriteria),1),t("p",ut,n(x.autoComment),1),dt,t("p",ht,n(x.comment),1),pt]))),128))]),_:1})]),_:1})])])]))])])}const xt=b(X,[["render",_t]]);const ft={name:"ResultPage",components:{OveralResult:U,ResultDetail:xt},setup(){return{userStore:w,resultTestStore:k}},created(){},mounted(){this.getInformation(),this.getPoint()},data(){return{testSchedule:{},resultTests:[],testIELTS:!1,suggestedCourse:null,pointOverall:null}},methods:{getInformation(){this.testSchedule=w.getTestSchedule()},getPoint(){k.GET_POINT({id:this.testSchedule.id}).then(e=>{var a,s,u,l,d,p;if(!e.data.error){this.suggestedCourse=(s=(a=e==null?void 0:e.data)==null?void 0:a.data)==null?void 0:s.course_suggest;let h=["speaking","writing","listening","vocabulary","reading"];((l=(u=e==null?void 0:e.data.data)==null?void 0:u.vocabulary)==null?void 0:l.right_answers)>19?(h=["speaking","writing","listening","reading"],this.testIELTS=!0):h=["speaking","vocabulary"];let _=h.map(o=>{var f,x,g,S;if(!((x=(f=e==null?void 0:e.data)==null?void 0:f.data)!=null&&x.hasOwnProperty(o))||((g=e==null?void 0:e.data)==null?void 0:g.data[o])==null)return null;let i=(S=e==null?void 0:e.data)==null?void 0:S.data[o];return new P(C.get(o),i==null?void 0:i.right_answers,i.total_correct,i.avg_point,i)}).filter(o=>o!=null);this.resultTests=_,this.pointOverall=(p=(d=e==null?void 0:e.data)==null?void 0:d.data)==null?void 0:p.overall}})}},computed:{}},y=e=>(D("data-v-0d8e5100"),e=e(),N(),e),gt={class:"result bg-white pt-[32px] px-[36px] rounded-t-[32px] pb-[48px] lg:rounded-32 lg:h-auto"},mt={class:"flex flex-col lg:flex-row"},vt=y(()=>t("h3",{class:"text-[17px] text-test-text-page-result opacity-100 font-bold mr-2"},"Xin chào bạn",-1)),Tt={class:"text-[17px] text-test-text-page-result opacity-100 font-bold"},bt=y(()=>t("p",null,[m("Chúc mừng bạn đã hoàn thành tất cả bài test! "),t("br"),m(" ECoach xin gửi kết quả kiểm tra đầu vào của bạn như sau:")],-1)),yt={class:"result__tests mt-[22px]"},St={key:0},wt=y(()=>t("h3",{class:"mb-5"},"Khóa học gợi ý ",-1)),kt={class:"h-[73px] w-full flex items-center shadow-md border border-gray-100 rounded-[16px] py-[24px] pl-[28px]"};function It(e,a,s,u,l,d){const p=v("ResultDetail"),h=v("OveralResult");return r(),c("div",gt,[t("div",mt,[vt,t("h3",Tt,n(l.testSchedule.name)+" - "+n(l.testSchedule.phone),1)]),bt,t("div",yt,[(r(!0),c(L,null,E(l.resultTests,(_,o)=>(r(),B(p,{key:o,resultTest:_,testIELTS:l.testIELTS},null,8,["resultTest","testIELTS"]))),128)),T(h,{pointOverall:l.pointOverall,testIELTS:l.testIELTS},null,8,["pointOverall","testIELTS"])]),l.suggestedCourse?(r(),c("div",St,[wt,t("div",kt,[t("h3",null,n(l.suggestedCourse),1)])])):$("",!0)])}const Rt=b(ft,[["render",It],["__scopeId","data-v-0d8e5100"]]);export{Rt as default};
